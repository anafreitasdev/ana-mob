<section
  class="w-full bg-transparent px-4 py-12 text-text-white sm:py-16 lg:py-20"
  aria-label="Imóveis por todo o Brasil"
>
  <div class="mx-auto w-full max-w-7xl overflow-x-hidden">
    <h2 class="mb-6 text-2xl font-semibold text-text-white">
      Imóveis por todo o Brasil
    </h2>

    <div class="relative w-full overflow-x-hidden">
      <swiper-container
        #swiper
        init="false"
        class="w-full pb-10 [--swiper-pagination-color:var(--color-primary)]"
        aria-roledescription="carousel"
        aria-label="Carrossel de estados"
      >
        <swiper-slide
          *ngFor="let state of states; trackBy: trackByStateName"
          class="h-auto"
        >
          <div class="h-full px-1">
            <button
              type="button"
              class="group flex h-full w-full flex-col overflow-hidden rounded-2xl border border-border bg-white shadow-sm transition-transform duration-200 ease-out motion-reduce:transition-none hover:-translate-y-0.5 focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 focus:ring-offset-surface"
              [attr.aria-label]="'Ver imóveis em ' + state.name"
            >
              <img
                class="h-40 w-full object-cover sm:h-44"
                [src]="state.imageUrl"
                [alt]="state.imageAlt"
                loading="lazy"
                decoding="async"
              />

              <div class="flex flex-1 flex-col gap-3 p-4 text-left sm:p-5">
                <h3 class="text-lg font-semibold text-text-primary">
                  {{ state.name }}
                </h3>
                <ul class="space-y-1 text-sm text-text-secondary">
                  <li
                    *ngFor="let city of state.cities; trackBy: trackByCityName"
                  >
                    Imóveis à venda em {{ city }}
                  </li>
                </ul>
              </div>
            </button>
          </div>
        </swiper-slide>
      </swiper-container>

      <button
        type="button"
        class="absolute left-3 top-1/2 z-10 flex h-10 w-10 -translate-y-1/2 items-center justify-center rounded-full bg-black/40 text-white shadow-sm transition-colors duration-300 hover:bg-primary focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 focus:ring-offset-black/20 disabled:pointer-events-none disabled:opacity-40 md:h-12 md:w-12"
        aria-label="Anterior"
        [disabled]="isAtStart"
        (click)="goToPrevious()"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 20 20"
          fill="currentColor"
          class="h-5 w-5 md:h-6 md:w-6"
          aria-hidden="true"
          focusable="false"
        >
          <path
            fill-rule="evenodd"
            d="M12.79 15.77a.75.75 0 0 1-1.06.02l-5-4.5a.75.75 0 0 1 0-1.12l5-4.5a.75.75 0 1 1 1.04 1.08L8.39 10l4.42 3.98a.75.75 0 0 1-.02 1.06Z"
            clip-rule="evenodd"
          />
        </svg>
      </button>

      <button
        type="button"
        class="absolute right-3 top-1/2 z-10 flex h-10 w-10 -translate-y-1/2 items-center justify-center rounded-full bg-black/40 text-white shadow-sm transition-colors duration-300 hover:bg-primary focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 focus:ring-offset-black/20 disabled:pointer-events-none disabled:opacity-40 md:h-12 md:w-12"
        aria-label="Próximo"
        [disabled]="isAtEnd"
        (click)="goToNext()"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 20 20"
          fill="currentColor"
          class="h-5 w-5 md:h-6 md:w-6"
          aria-hidden="true"
          focusable="false"
        >
          <path
            fill-rule="evenodd"
            d="M7.21 4.23a.75.75 0 0 1 1.06-.02l5 4.5a.75.75 0 0 1 0 1.12l-5 4.5a.75.75 0 1 1-1.04-1.08L11.61 10 7.19 6.02a.75.75 0 0 1 .02-1.06Z"
            clip-rule="evenodd"
          />
        </svg>
      </button>
    </div>
  </div>
</section>
